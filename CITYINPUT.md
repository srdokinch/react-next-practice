CityInput.jsxで学んだことや注意事項をまとめるメモ書きのmd

## 1行目
コンポーネント名をCityInputと定義して親からcity, setCity, onSearchが渡されるためそれを分割代入で受け取る。
分割代入にしないといちいちpropsをつけたりとにかくコードが長くなるので分割代入を使っている。

**で、そもそも分割代入は何かという話。**
「オブジェクトから必要な値を取り出して、直接変数をして使えるようにする機能」らしい。
ちょっとわかった。だから分割代入しないと直接変数にできなくていちいちprops.cityみたいにしないと変数として扱えないってことね。

Reactコンポーネントは親から渡されるpropsはオブジェクトで渡されるらしいので分割代入でわかりやすくしている。
親コンポーネントからは以下のような形で呼び出される。
```
<CityInput 
  city={city} 
  setCity={setCity} 
  onSearch={handleSearch} 
/>
```

<br>
**分割代入のcity, setCity, onSearchについて**
cityは単純に入力された都市名
setCityは都市名を更新する関数
onSearchは検索ボタンが押された時に実行する関数


---
## 3行目のe.preventDefault()の意味は？
通常、HTMLのフォームを送信するとページがリロードされるが今回のアプリではページリロードせずに処理を続けたいため、このコードでリロード防ぐ。
```
// e.preventDefault() がない場合
ユーザーが「検索」ボタンをクリック
  → フォームが送信される
  → ページがリロードされる（画面が一瞬真っ白になる）
  → 入力した内容が消える
  → Reactのstateもリセットされる ❌

// e.preventDefault() がある場合
ユーザーが「検索」ボタンをクリック
  → フォームが送信される
  → でも、リロードされない（e.preventDefault()で防ぐ）
  → 入力した内容が残る
  → Reactの処理が続行される ✅
```

---
## 4行目で入力された都市名にスペースなど入っていないかチェック
これ慣れないと絶対チェック忘れる。と、いうかそういう頭がない笑
性善説的な感じで全員空欄なしでちゃんと入れる想定の頭しかない。
<br>
**そして4行目のif文だけどtrim()はbooleanじゃないのになぜifを通るのかというと・・・**
JSのifはbooleanではなくてもその値が持っている「真偽の性質」に基づいて実行するかどうかを決定できるみたい。
この仕組みをTruthyとFalsyという。

### Falsyと判断される値
- false (ブール値の偽)
- 0 (数値のゼロ)
- "" (空文字列) ← 今回はここが重要
- null
- undefined
- NaN (Not a Number)

### Truthyは上記以外のもの

よって4行目はtrimした後、返り値がfalsyでなければ5行目を実行する。

---
## 16行目
onChangeは入力フィールドの内容が変更されたときん発生するイベントハンドラー。
(e)はいつも通りイベントオブジェクトでブラウザから情報が送られてくる。
諸々の処理をまとめると「入力フィールドの値が変更されるたびに、その新しい情報をcityというステート変数に設定する」という意味で入力フィールドに入力された内容がリアルタイムでステートに反映されていく。

---
## まとめ
このコンポーネントは表示部分だけをして実際に検索するのは別のコンポーネントで行う。