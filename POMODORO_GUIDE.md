# ポモドーロタイマー手順書（Next.js + Tailwind）

## 目的
1〜2時間で完成できる学習用アプリとして、ポモドーロタイマーを作ります。  
コード例は載せず、やることの順序と考えるポイントだけまとめます。

## 前提
- Next.js（App Router）
- Tailwind CSS
- データ保存は`localStorage`のみ（DBなし）

---

## 1. プロジェクト準備
1. `npx create-next-app@latest プロジェクト名`で新規作成（JavaScript / App Router / Tailwind / ESLintを有効、TypeScriptは無効）
2. `app/`配下に`page.js`と`globals.css`があることを確認
3. 開発サーバを起動して、初期画面が表示されることを確認

---

## 2. 画面設計（最小構成）
まずは最小の画面要素を整理します。

- **タイマー表示**：分:秒の大きな表示
- **操作ボタン**：開始 / 停止 / リセット
- **モード切替**：作業 / 休憩
- **履歴リスト**：完了回数、完了時刻

配置はシンプルに、縦並びで中央寄せにするのがおすすめです。

---

## 3. 状態設計
状態を整理してから実装に入ります。

- 残り秒数（カウントダウン用）
- 実行中フラグ（稼働/停止）
- モード（作業/休憩）
- 作業時間・休憩時間の基準値
- 完了履歴（配列）
- `setInterval`の参照（重複防止）

表示用の分・秒は「残り秒数」から導出するのがシンプルです。

---

## 4. タイマー機能実装
タイマーの挙動を段階的に作ります。

1. **開始**：実行中フラグを立てる → 1秒ごとに残り秒数を減らす  
2. **停止**：実行中フラグを外す → タイマーを止める  
3. **リセット**：残り秒数をモードの基準値に戻す  
4. **0になった時の処理**：停止 → 履歴追加 → モード切替（必要なら自動切替）

重複してタイマーが走らないよう、開始時に既存のタイマーを確認します。

---

## 5. 履歴保存（localStorage）
履歴はリロードしても残るようにします。

- 初回表示時に`localStorage`から読み込み
- 履歴が更新されたら`localStorage`に保存
- 保存キー名は固定の文字列で統一

読み込み時は、データが空の場合の分岐を忘れずに。

---

## 6. UI仕上げ（Tailwind）
見た目を最小限整えます。

- モードに応じて背景色やアクセント色を変更
- ボタンは状態で無効化（実行中に開始を押せないなど）
- タイマー表示は視認性重視（大きめサイズ）
- 余白と整列を整える（`flex` + `gap`）

---

## 7. 動作確認チェック
最後に以下を確認します。

- 開始 → 正しく1秒ずつ減る
- 停止 → 数字が止まる
- リセット → 初期値に戻る
- 0になったら履歴が追加される
- リロード後も履歴が残る
- タイマーが二重に動かない

---

## 補足
必要なタイミングでここに質問してください。  
コードは自分で考えて書き、困った点だけピンポイントで確認する進め方でOKです。

